<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · IOSystems.jl</title><link rel="canonical" href="https://hexaeder.github.io/IOSystems.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">IOSystems.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Basics"><span>Basics</span></a></li><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Transformations"><span>Transformations</span></a></li><li><a class="tocitem" href="#Function-building"><span>Function building</span></a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="generated/spacecraft/">Spacecraft</a></li><li><a class="tocitem" href="generated/kuramoto_network/">Kuramoto Network</a></li><li><a class="tocitem" href="generated/kuramoto_without_nd/">Kuramoto without ND.jl</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/hexaeder/IOSystems.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="IOSystems"><a class="docs-heading-anchor" href="#IOSystems">IOSystems</a><a id="IOSystems-1"></a><a class="docs-heading-anchor-permalink" href="#IOSystems" title="Permalink"></a></h1><h2 id="Basics"><a class="docs-heading-anchor" href="#Basics">Basics</a><a id="Basics-1"></a><a class="docs-heading-anchor-permalink" href="#Basics" title="Permalink"></a></h2><p>An input-output-system is characterized by a set of equations. These equations can be either first order ODEs or explicit algebraic equations.</p><p class="math-container">\[\begin{aligned}
\dot \mathbf x(t) &amp;= f(\mathbf x(t), \mathbf y(t), \mathbf i(t), p)\\
\mathbf y(t) &amp;= g(\mathbf x(t), \mathbf y(t), \mathbf i(t), p)
\end{aligned}\]</p><p>such system contains of </p><ul><li>states (<span>$x$</span> and <span>$y$</span>) and</li><li>parameters (<span>$i$</span>, <span>$p$</span>).</li></ul><p>States are determined by the given equations (i.e. the equations describe how the states change). Parameters are externally given. For IO systems we define subgroups</p><ul><li>states<ul><li>internal states (<code>istates</code>) which are meant for internal use</li><li>output states (<code>outputs</code>) which might be used as inputs for other systems</li></ul></li><li>parameters<ul><li>internal parameters (<code>iparams</code>) which are typically constant and</li><li>inputs (<code>inputs</code>) which can be connected to the outputs of other systems.</li></ul></li></ul><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><p>The base type for the IOSystems is <code>AbstractIOSystem</code> with the has two concrete implementations. </p><article class="docstring"><header><a class="docstring-binding" id="IOSystems.AbstractIOSystem" href="#IOSystems.AbstractIOSystem"><code>IOSystems.AbstractIOSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><p>abstract supertype for <a href="#IOSystems.IOBlock"><code>IOBlock</code></a> and <a href="#IOSystems.IOSystem"><code>IOSystem</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/IOSystems.jl/blob/df0b5c13b2a548e66539e9cebd28f3377232d53a/src/IOSystems.jl#LL16-L18">source</a></section></article><p>An <code>IOBlock</code> consists of a set of equations, a set of inputs and outputs and a name.</p><article class="docstring"><header><a class="docstring-binding" id="IOSystems.IOBlock" href="#IOSystems.IOBlock"><code>IOSystems.IOBlock</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct IOBlock &lt;: AbstractIOSystem</code></pre><p>A basic IOSystem which consists of a single ODESystem.</p><ul><li><p><code>name::Symbol</code></p></li><li><p><code>inputs::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>iparams::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>istates::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>outputs::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>system::ODESystem</code></p></li><li><p><code>removed_states::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>removed_eqs::Array{Equation,1}</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/IOSystems.jl/blob/df0b5c13b2a548e66539e9cebd28f3377232d53a/src/IOSystems.jl#LL43">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>IOBlock(eqs::AbstractVector{&lt;:Equation}, inputs, outputs; name = gensym(:IOBlock))</code>. Check Documenter&#39;s build log for details.</p></div></div><p>An <code>IOSystem</code> consists of multiple <code>AbstractIOSystems</code> and the connections between them.</p><article class="docstring"><header><a class="docstring-binding" id="IOSystems.IOSystem" href="#IOSystems.IOSystem"><code>IOSystems.IOSystem</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct IOSystem &lt;: AbstractIOSystem</code></pre><p>A composite <code>IOSystem</code> which consists of multiple <a href="#IOSystems.AbstractIOSystem"><code>AbstractIOSystem</code></a> which are connected via a vector of namespaced pairs (<code>subsys1.out1 =&gt; subsys2.in1</code>).</p><p>An <code>IOSystem</code> contains maps how to promote the namespaced variables of the subsystem to the new scope    subsys1₊x(t) =&gt; x(t)    subsys1₊y(t) =&gt; subsys1₊y(t)    subsys2₊y(t) =&gt; subsys2₊y(t)</p><ul><li><p><code>name::Symbol</code></p></li><li><p><code>inputs::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>iparams::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>istates::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>outputs::Array{SymbolicUtils.Symbolic,1}</code></p></li><li><p><code>connections::Dict{SymbolicUtils.Symbolic,SymbolicUtils.Symbolic}</code></p></li><li><p><code>inputs_map::Dict{SymbolicUtils.Symbolic,SymbolicUtils.Symbolic}</code></p></li><li><p><code>iparams_map::Dict{SymbolicUtils.Symbolic,SymbolicUtils.Symbolic}</code></p></li><li><p><code>istates_map::Dict{SymbolicUtils.Symbolic,SymbolicUtils.Symbolic}</code></p></li><li><p><code>outputs_map::Dict{SymbolicUtils.Symbolic,SymbolicUtils.Symbolic}</code></p></li><li><p><code>systems::Array{AbstractIOSystem,1}</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/IOSystems.jl/blob/df0b5c13b2a548e66539e9cebd28f3377232d53a/src/IOSystems.jl#LL130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="IOSystems.IOSystem-Tuple{Any,Array{var&quot;#s23&quot;,1} where var&quot;#s23&quot;&lt;:AbstractIOSystem}" href="#IOSystems.IOSystem-Tuple{Any,Array{var&quot;#s23&quot;,1} where var&quot;#s23&quot;&lt;:AbstractIOSystem}"><code>IOSystems.IOSystem</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">IOSystem(cons, io_systems; inputs_map, iparams_map, istates_map, outputs_map, name, autopromote)
</code></pre><p>Construct a new IOSystem from various subsystems. Parameters</p><ul><li><code>cons</code>: the connections in the form <code>sub2.input =&gt; sub2.output</code></li><li><code>io_systems</code>: Vector of subsystems</li><li><code>inputs_map</code>, <code>iparams_map</code>, <code>istates_map</code>: Provide custom namespace promotion / renaming i.e. <code>sub1.input =&gt; voltage</code>. Variables without entry in the map will be promoted automatically.</li><li><code>outputs_map</code>: Provide custom namespace promotion for outputs. If this parameter is not given, all of the outputs (connected and unconnected) will be marked as outputs of the whole system. If the outputs map is given only the given outputs will be marked as outputs. All other outputs of subsystems will become internal states of the connected system (and might be optimized away in <code>connect_system</code>).</li><li><code>name</code>: namespace</li><li><code>autopromote=true</code>: enable/disable automatic promotion of variable names to system namespace</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/IOSystems.jl/blob/df0b5c13b2a548e66539e9cebd28f3377232d53a/src/IOSystems.jl#LL161">source</a></section></article><h2 id="Transformations"><a class="docs-heading-anchor" href="#Transformations">Transformations</a><a id="Transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Transformations" title="Permalink"></a></h2><p>Each <code>IOSystem</code> can be transformed into an <code>IOBlock</code>. At this step the actual manipulation of the equations happen.</p><article class="docstring"><header><a class="docstring-binding" id="IOSystems.connect_system" href="#IOSystems.connect_system"><code>IOSystems.connect_system</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">connect_system(ios; verbose, simplify_eqs)
</code></pre><p>Recursively transform <code>IOSystems</code> to <code>IOBlocks</code>.</p><ul><li>substitute inputs with connected outputs</li><li>try to eliminate equations for internal states which are not used to calculate the specified outputs of the system.</li><li>try to eliminate explicit algebraic equations (i.e. outputs of internal blocks) by substituting each occurrence with their rhs. Explicit algebraic states which are marked as system outputs won&#39;t be removed.</li></ul><p>Parameters:</p><ul><li><code>ios</code>: system to connect</li><li><code>verbose=false</code>: toggle verbosity (show equations at different steps)</li><li><code>simplify_eqs=true</code>: toggle simplification of all equations at the end</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/IOSystems.jl/blob/df0b5c13b2a548e66539e9cebd28f3377232d53a/src/transformations.jl#LL3">source</a></section></article><h2 id="Function-building"><a class="docs-heading-anchor" href="#Function-building">Function building</a><a id="Function-building-1"></a><a class="docs-heading-anchor-permalink" href="#Function-building" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="IOSystems.generate_io_function" href="#IOSystems.generate_io_function"><code>IOSystems.generate_io_function</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">generate_io_function(ios; first_states, first_inputs, first_params, first_removed, expression, verbose, type)
</code></pre><p>Generate callable functions for an <code>AbstractIOSystem</code>. An <code>IOSystem</code> will be transformed to an <code>IOBlock</code> first. At this level there is no more distinction between internal states and outputs: <code>states=(istates ∪ outputs)</code>.</p><p>Parameters:</p><ul><li><code>ios</code>: the system to build the function</li></ul><p>optional:</p><ul><li><code>type=:auto</code>: <code>:ode</code> or <code>:static</code>, determines the output of the function</li><li><code>first_states</code>: define states=(istates ∪ outputs) which should appear first</li><li><code>first_inputs</code>: define inputs which should appear first</li><li><code>first_params</code>: define parameters which should appear first</li><li><code>expression=Val{false}</code>: toggle expression and callable function output</li></ul><p>Returns an named tuple with the fields</p><ul><li>for <code>type=:ode</code>:<ul><li><code>f_ip</code> in-place function <code>f(dstates, states, inputs, params, iv)</code></li><li><code>f_oop</code> out-of-place function <code>f(states, inputs, params, iv) =&gt; dstates</code></li><li><code>massm</code> mass matrix of the system</li></ul></li><li>for <code>type=:static</code>:<ul><li><code>f_ip</code> in-place function <code>f(states, inputs, params, iv)</code></li><li><code>f_oop</code> out-of-place function <code>f(inputs, params, iv) =&gt; states</code></li></ul></li><li>always:</li><li><code>states</code> symbols of states (in order)</li><li><code>inputs</code> symbols of inputs (in order)</li><li><code>params</code> symbols of parameters (in order)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/hexaeder/IOSystems.jl/blob/df0b5c13b2a548e66539e9cebd28f3377232d53a/src/function_generation.jl#LL3">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="generated/spacecraft/">Spacecraft »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 27 January 2021 20:13">Wednesday 27 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
